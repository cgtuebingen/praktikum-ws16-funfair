<html>

<head>

    <meta charset="utf-8">

</head>


<body>
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="js/EdkDll.js"></script>
<script type="text/javascript" src="js/EmoState.js"></script>
<script type="text/javascript" src="js/EmoEngine.js"></script>

<object id="plugin0" type="application/x-emotivlifesciencesbtle" width="0" height="0">
    <param name="onload" value="pluginLoaded"/>
</object>

<script type="text/javascript">

    function ELSPlugin() {
        return document.getElementById('plugin0');
    }

    function pluginLoaded() {
        console.log("plugin ok");

        engine = EmoEngine.instance()

        es = new EmoState();

        engine.Connect();



        //setTimeout(function(){engine.ProcessEvents(500);},50);
    }

    $(document).bind("UserAdded", function (event, userId) {
        console.log("added");
    });

    $(document).bind("UserRemoved", function (event, userId) {
        console.log("removed");
    });

    $(document).bind("EmoEngineErrorRemote", function () {

        console.log("error");
    });

    $(document).bind("EmoEngineUnknownError", function () {

        console.log("error2");
    });

    $(document).bind("EmoStateUpdated", function (event, userId, es) {
        console.log("updated");
    });


    //EdkDll.EE_EngineGetNextEvent();                  //Get next Events of EPOC
    /*


     engine.CognitivGetActionsEnabled(0);           //return cognitive actions enabled

     engine.Connect();                                                //Connect to EPOC

     EdkDll.EE_EngineGetNextEvent();                  //Get current Event of EPOC

     EdkDll.EE_EmoEngineEventGetEmoState();       //Get current State of Event

     es.GetTimeFromStart();                                           //Now, can get Time of State


     es.GetTimeFromStart();                                                     //Get time of current State

     es.ES_GetContactQualityFromAllChannels();                 //Get value of Contact Quality

     es.ExpressivIsBlink();                                                          //Currently, you are blink
     */

</script>
</body>
</html>